'use strict';(function(b){var c={side:"right",panelDirection:"vertical",iconWidth:0,panelWidth:0},g=!1,f={init:function(a){a=b(this.selector,b(this.context));!0===a.data("initialized")?console.log("Menu is already initialized. Destroy the menu before trying to initialize again."):(a.data("initialized",!0),a.hasClass("left-side")&&(c.side="left"),a.hasClass("horizontal-open")&&(c.side="horizontal"),"complete"!==document.readyState?b(document).ready(f.resize(a)):f.resize(a),b(window).on("resize",f.resize(a)),
f.resetMenus(a),a.off("click").on("click",".menu-item",f.menuHeaderClick))},initOnce:function(a){g=!0;if(0==parseInt(b(".menu-items",a).css("right"))||0==parseInt(b(".menu-items",a).css("left")))"right"==c.side?b(".menu-items",a).css("left","0px").animate({left:-c.iconWidth+"px"},500,function(){"vertical"==c.panelDirection?b(".menu-panels",a).css("left",-c.width+"px").css("bottom","100%"):"horizontal"==c.panelDirection&&b(".menu-panels",a).css("left",-c.iconWidth+"px").css("top","0px")}):b(".menu-items",
a).css("left",-c.iconWidth+"px").animate({left:"0px"},500,function(){"vertical"==c.panelDirection?b(".menu-panels",a).css("left",c.iconWidth+"px").css("bottom","100%"):"horizontal"==c.panelDirection&&b(".menu-panels",a).css("left",c.iconWidth+"px").css("top","0px")})},resize:function(a){var d=!1,e=0;0!=a.prev().length&&(e=a.prev().offset().top+a.prev().height());var h=b(window).height()-e;b(".menu-icon",a).outerWidth(!0)>c.iconWidth&&(c.iconWidth=b(".menu-icon",a).outerWidth(!0),console.log(c.iconWidth),
d=!0);b(".menu-panels",a).width()!=c.panelWidth&&(c.panelWidth=b(".menu-panels",a).width(),d=!0);!1!=d&&(c.width=c.panelWidth+c.iconWidth,a.width(c.width),a.height(h).css("top",e),b(".menu-close",a).css("width",c.iconWidth+"px"),!1==g&&f.initOnce(a))},resetMenus:function(a){var c=0;a.find(".menu-item").each(function(a,f){b(f).css("position","absolute");b(f).attr("data-index",a);b(f).css("top",c+"px");c+=b(f).height()})},menuHeaderClick:function(a){b(a.currentTarget).hasClass("active")?f.closeMenu(a):
b(a.currentTarget).parents(".slide-menu").hasClass("active")?f.switchMenus(a):f.showMenu(a)},closeMenu:function(a){a=b(a.currentTarget);var d=b(a).parents(".slide-menu");a={};"right"==c.side?a={left:"0px"}:"left"==c.side&&(a={right:"0px"});f.closePanel(d);b(".menu-item.active",d).animate(a,250,function(){d.removeClass("active");d.trigger("slidemenu.closed");b(".menu-item.active",d).removeClass("active");var a=0;d.find(".menu-item").each(function(c,d){b(d).animate({top:a+"px"},250);a+=b(d).height()})})},
switchMenus:function(a){var d=b(a.currentTarget).parents(".slide-menu");f.closePanel(d);var e={};"right"==c.side?(e=parseInt(b(".menu-items",d).css("left")),e={left:parseInt(-c.width-e)+"px"}):"left"==c.side&&(e=parseInt(b(".menu-items",d).css("left")),e={right:parseInt(-c.width+c.iconWidth)+"px"});b(a.currentTarget).animate(e,250,function(){b(a.currentTarget).animate({top:"0px"},250,function(){f.openPanel(d,b(a.currentTarget).data("target"))});var c=b(a.currentTarget).data("index"),e=b(a.currentTarget).height();
b(".menu-item",d).each(function(a,d){parseInt(b(d).data("index"))!=c&&(b(d).animate({top:e+"px"},250),e+=b(d).height())})});e={};"right"==c.side?e={left:"0px"}:"left"==c.side&&(e={right:"0px"});b(".menu-item.active",d).animate(e,250,function(a){b(this).removeClass("active")});b(a.currentTarget).addClass("active")},showMenu:function(a){var d=b(a.currentTarget).parents(".slide-menu");d.addClass("active");b(a.currentTarget).addClass("active");var e={};"right"==c.side?(e=parseInt(b(".menu-items",d).css("left")),
e={left:parseInt(-c.width-e)+"px"}):"left"==c.side&&(e=parseInt(b(".menu-items",d).css("left")),e={right:parseInt(-c.width+c.iconWidth)+"px"});b(".menu-item.active",d).animate(e,250,function(){var c=parseInt(b(".menu-item.active").data("index")),e=b(".menu-item.active").height();b(".menu-item",d).each(function(a,d){if(parseInt(b(d).data("index"))<c){var f=parseInt(b(d).css("top"));b(d).animate({top:f+e},250)}});"0px"!=b(".menu-item.active",d).css("top")?b(".menu-item.active",d).animate({top:"0px"},
250,function(){d.trigger("slidemenu.opened");f.openPanel(d,b(a.currentTarget).data("target"))}):(d.trigger("slidemenu.opened"),f.openPanel(d,b(a.currentTarget).data("target")))})},openPanel:function(a,d){b(".menu-panel.active",a).removeClass("active");b(d,a).addClass("active");if("vertical"==c.panelDirection)b(".menu-panels",a).animate({bottom:"0%"},250,"linear");else if("horizontal"==c.panelDirection){var e={};"right"==c.side?e={left:parseInt(-c.width)+"px"}:"left"==c.side&&(e={left:parseInt(c.width)+
"px"});b(".menu-panels",a).animate(e,250,"linear")}},closePanel:function(a){var d={};"right"==c.side?d={left:parseInt(-c.iconWidth)+"px"}:"left"==c.side&&(d={left:parseInt(-c.panelWidth+c.iconWidth)+"px"});b(".menu-panels",a).animate(d,250,function(){b(".menu-panel.active",a).removeClass("active");"vertical"==c.panelDirection&&("right"==c.side?b(this).css("bottom","100%").css("left",-c.width+"px"):"left"==c.side&&b(this).css("bottom","100%").css("left",c.iconWidth+"px"))})},isOpen:function(a){return b(event.currentTarget).parents(".slide-menu").hasClass("active")}};
b.fn.slideMenu=function(a){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)b.error("Method "+a+" does not exist on jQuery.slideMenu");else return f.init.apply(this,arguments)}})(jQuery);
